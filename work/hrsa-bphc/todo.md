# HRSA-BPHC Project To-Dos

# ux changes
- [x] ask: change the guante chart to use a progress bar for the task completions
  - completed: 2025-08-29 16:56
  - started: 2025-08-29 16:55
  - include: pattern=*scope-review-v2*.html  recursive`
  - focus: file=C:\projects\Context\Mockups\scope-review-v3.html
```code
my knowledge
```

# ux changes
- [x] ask: remove gantt chart. add a progress bar
  - completed: 2025-08-29 17:02
  - started: 2025-08-29 17:01
  - completed: 2025-08-29 16:58
  - started: 2025-08-29 16:57
  - completed: 2025-08-29 16:56
  - started: 2025-08-29 16:55
  - include: pattern=*scope-review-v2*.html  recursive`
  - focus: file=C:\projects\Context\Mockups\scope-review-v3.html
```code
my knowledge
```

# Bundles
- [x] ask: use the scope concept html as an example. I want a new app for the
  - completed: 2025-08-29 20:11
  - started: 2025-08-29 20:10
  - completed: 2025-08-29 17:02
  - started: 2025-08-29 17:01
  - completed: 2025-08-29 16:58
  - started: 2025-08-29 16:57
  - completed: 2025-08-29 16:56
  - started: 2025-08-29 16:55
  - include: pattern=*scope-review-v3*.html|*to-be*.html  recursive`
  - focus: file=C:\projects\concepts\work\hrsa-bphc\bundles-v1.html
```code
1. should have a side menu with Cohors, Bundles, on the left side.
2. should have the same tasks, chat collaboration tools on the right side
```

# Test
- [x] ask: use the scope concept html as an example. I want a new app for the
  - completed: 2025-08-29 20:11
  - started: 2025-08-29 20:10
  - completed: 2025-08-29 17:02
  - started: 2025-08-29 17:01
  - completed: 2025-08-29 16:58
  - started: 2025-08-29 16:57
  - completed: 2025-08-29 16:56
  - started: 2025-08-29 16:55
  - include: pattern=*scope-review-v3*.html|*to-be*.html  recursive`
  - focus: file=C:\projects\concepts\work\hrsa-bphc\bundles-v1.html
```code
1. should have a side menu with Cohors, Bundles, on the left side.
2. should have the same tasks, chat collaboration tools on the right side
```

# Bundles
- [x] ask: Enhance bundles. Add a new features to the Cohorts screen. they should be able to select from a list of entities. e.g., hrsa grant applications, hrsa grant awards, organizations, by program and create a cohort of users
  - completed: 2025-08-29 20:17
  - started: 2025-08-29 20:16
  - completed: 2025-08-29 20:11
  - started: 2025-08-29 20:10
  - completed: 2025-08-29 17:02
  - started: 2025-08-29 17:01
  - completed: 2025-08-29 16:58
  - started: 2025-08-29 16:57
  - completed: 2025-08-29 16:56
  - started: 2025-08-29 16:55
  - include: pattern=*scope-review-v3*.html|*To-Be*.md|*bundles-v1*.html  recursive`
  - focus: file=C:\projects\concepts\work\hrsa-bphc\bundles-v2.html
```code
1. Create this feature to allow someone to create the cohort. it will be used later in a wizard to create a bundle of forms from the form library. 
2. In the side menu add form library
```

# Bundles
- [x] ask: Enhance bundles so that i can search for cohorts. create some mock cohorts. We also have to create a form library feature
  - completed: 2025-08-29 20:25
  - started: 2025-08-29 20:24
  - completed: 2025-08-29 20:17
  - started: 2025-08-29 20:16
  - completed: 2025-08-29 20:11
  - started: 2025-08-29 20:10
  - completed: 2025-08-29 17:02
  - started: 2025-08-29 17:01
  - completed: 2025-08-29 16:58
  - started: 2025-08-29 16:57
  - completed: 2025-08-29 16:56
  - started: 2025-08-29 16:55
  - include: pattern=*scope-review-v3*.html|*To-Be*.md|*bundles-v2*.html  recursive`
  - focus: file=C:\projects\concepts\work\hrsa-bphc\bundles-v3.html
```code
1. create the Submission Form Library in the side menu
2. Create the Review form Library in the side menu
3. The form libraries should contain a list of all submission forms and review forms to select from. they should see the kinds of things the form can do. endpoints, exit events, views, options, and APIs they expose. 
4. populate the lists from the as-is content.
```


# Bundles
- [x] ask: Enhance the configuration hub
  - completed: 2025-08-29 20:33
  - started: 2025-08-29 20:33
  - completed: 2025-08-29 20:29
  - started: 2025-08-29 20:28
  - completed: 2025-08-29 20:25
  - started: 2025-08-29 20:24
  - completed: 2025-08-29 20:17
  - started: 2025-08-29 20:16
  - completed: 2025-08-29 20:11
  - started: 2025-08-29 20:10
  - completed: 2025-08-29 17:02
  - started: 2025-08-29 17:01
  - completed: 2025-08-29 16:58
  - started: 2025-08-29 16:57
  - completed: 2025-08-29 16:56
  - started: 2025-08-29 16:55
  - include: pattern=*scope-review-v3*.html|*To-Be*.md|*bundles-v3*.html  recursive`
  - focus: file=C:\projects\concepts\work\hrsa-bphc\bundles-v4.html
```code
1. Change side menu it should be Cohorts, Bundles, Submission Library, Review Library on the left hand side.
3. In Submission Library, add all of the forms for submission and some features about them based on what you know about hrsa grants
4. in the review library, add all the reviews for the review and some features, same as submission
5. Change the title to the configuration hub
side menu
[Cohorts] -> create groups of awardees or applicans
[Bundles] -> used to create bundles of forms. you can select from reviews and submissions
[Submission Library] -> list all submission forms
[Review Library] -> list all reviews
```


# Bundles
- [x] ask: Add features to the configuration hub
  - completed: 2025-08-30 17:56
  - started: 2025-08-30 17:54
  - completed: 2025-08-30 17:54
  - started: 2025-08-30 17:54
  - completed: 2025-08-30 17:53
  - started: 2025-08-30 17:53
  - include: pattern=*bundles-v13*.html|*post-award*.md   recursive`
  - focus: file=C:\projects\concepts\work\hrsa-bphc\bundles-v15.html
```code
1. update the flows 
2. create similar wizards for cohorts and library
NAVIGATION BAR
  │
  ├─► Cohorts
  │     │
  │     ├─ “Create Cohort” form
  │     │     • Inputs: Name, Description, Tags, Program, Type, Entities
  │     │     └─► Click “Create Cohort” → cohort added to in-memory list
  │     │
  │     └─ Cohort List table
  │           • Columns: Name | Program | Type | Entities | Tags | Actions
  │           └─ “Delete” button → removes cohort
  │
  ├─► Submission Bundles
  │     │
  │     ├─ “Create Bundle (Wizard)” button
  │     │       └─► Wizard:
  │     │           Step 1: Bundle Name & Description → Next
  │     │           Step 2: Search & select forms (checkboxes) → Next
  │     │           Step 3: grid with forms. ability to sselect update or delete → Finish
                    Step 4: click update, get form with check boxes and text boxes. click save for the form.
  │     │           → bundle appended to Submission Bundles list
  │     │
  │     └─ Bundles table + Search
  │           • Columns: Name | Description | Forms | Actions
  │           • Actions: Delete, Update (re-open wizard in “edit” mode)
  │
  ├─► Review Bundles
  │     (identical structure to Submission Bundles, but uses review-form library)
  │
  ├─► Submission Library
  │     │
  │     └─ Searchable table of all available submission forms
  │           • Columns: Form Name | Description
  │
  ├─► Review Library
  │     │
  │     └─ Searchable table of all available review forms
  │           • Columns: Review Name | Description
  │
  └─► Deliverables
        │
        ├─ “Create Deliverable” form
        │     • Inputs: Deliverable Name, Select Cohort (dropdown), Select Submission Bundle
        │     └─► Click “Create Deliverable” → deliverable added
        │
        └─ Deliverables table + Search
              • Columns: Name | Cohort | Bundle | Actions
              • Actions: Delete


```



# Bundles
- [x] ask: enhance the user workflow for
  - completed: 2025-08-30 21:41
  - started: 2025-08-30 21:40
  - completed: 2025-08-30 21:33
  - started: 2025-08-30 21:32
  - completed: 2025-08-30 21:18
  - started: 2025-08-30 21:16
  - completed: 2025-08-30 21:08
  - started: 2025-08-30 21:06
  - completed: 2025-08-30 21:02
  - started: 2025-08-30 21:01
  - completed: 2025-08-30 17:56
  - started: 2025-08-30 17:54
  - completed: 2025-08-30 17:54
  - started: 2025-08-30 17:54
  - completed: 2025-08-30 17:53
  - started: 2025-08-30 17:53
  - include: pattern=*bundles-v19.html|*bundles-v18.html|*bundles-v17.html recursive`
  - focus: file=C:\projects\concepts\work\hrsa-bphc\bundles-v20.html
```code
make the following enhancements. dont change the side menu. dont combine anything. 
1. add realistic sample data for hrsa bphc program forms. seem the form library forms list and the review form library list. add all of those.
2. change imports/exports from json to yaml format
3. split bundles side menu into manage submission bundles and manage review bundles
4. add the new cohort wizard. 
5. make the type fixed in form library new wizards
6. add the new deliverable wizard.

Start  
  |  
  v  
Load “Configuration Hub” page  
  |  
  v  
Display Header (title), Side-Nav (5 links), Main Area (default: Submission Library)  
  |  
  v  
User picks a section via Side-Nav  
  → Manage Submission Library  
  → Manage Review Library  
  → Manage Cohorts  
  → Manage Submission Bundles  
  → Manage Review Bundles  
  → Deliverables  
  |  
  v  
Section view appears:  
   – Title  
   – [New/Register] button  
   – Search input → on input, filter table rows  
   – Select-all checkbox → toggles all row boxes  
   – Table of items: each row has  
       • checkbox  
       • columns (Name, …)  
       • Actions: Update → open wizard (edit mode), Delete → remove & refresh  
  |  
  v  
User action in section:  
   • Type in Search → live filter  
   • Click Select-all → toggle all  
   • Click Delete on a row → remove item → re-render table  
   • Click Update on a row → open corresponding Wizard in edit mode  
   • Click New/Register → open corresponding Wizard in create mode  
  |  
  v  
████████████████████████████████████████  
Wizard Overlay (common):  
  • Steps 1…N (N=2 for forms, N=4 for cohorts/bundles/deliverables)  
  • Prev / Next / Finish / Cancel buttons (Prev hidden on step 1, Next hidden on last, Finish shown only on last)  
  • Cancel → close overlay, discard state  
  • Finish → validate required fields, then save (create or update), close overlay, re-render table  
  |  
  v  
Form Wizards (Submission & Review)  
  Step 1: enter metadata (Name, Endpoint, Auth, Schema) → Next  
    |  
    v  
  Step 2: “Run Validation Tests” → status message; review read-only fields → Finish  
    |  
    v  
  Save form → refresh grid → close Wizard  
  |  
  v  
Cohort Wizard  
  Step 1: Basic Info (Name, Description, Tags) → Next  
    |  
    v  
  Step 2: Select Program & Entity Type → Next  
    |  
    v  
  Step 3: Pick Entities (multi-select list populated by Program+Type) → Next  
    |  
    v  
  Step 4: Review all fields → Finish  
    |  
    v  
  Save cohort → refresh grid → close Wizard  
  |  
  v  
Bundle Wizard  
  Step 1: Basics (Name, Description, Program, Tags) → Next  
    |  
    v  
  Step 2: Submission Phase  
     – Search Submission Forms → filter list  
     – Check boxes to select → populate ordered list  
     – Up/Down arrows to reorder → Next  
    |  
    v  
  Step 3: Review Phase  
     – Toggle “Enable Review”  
     – If on: Search Review Forms → select → reorder → Next  
     – If off: skip to Next  
    |  
    v  
  Step 4: Summary (Name, Program, Tags, Submission list, Review enabled, Review list) → Finish  
    |  
    v  
  Save bundle → refresh grid → close Wizard  
  |  
  v  
Deliverable Wizard  
  Step 1: Basic Info (Name, select Cohort, select Bundle) → Next  
    |  
    v  
  Step 2: Schedule (One-time Date or Cron Recurrence) → Next  
    |  
    v  
  Step 3: Notifications (Email Template, Reminders days) → Next  
    |  
    v  
  Step 4: Review (Name, Cohort, Bundle, Schedule, Notifications) → Finish  
    |  
    v  
  Save deliverable → refresh grid → close Wizard  
  |  
  v  
Return to Section view – user may repeat or switch sections  
  |  
  v  
End of flow (user closes browser or logs out)

1. Cohort  
• id (string, UUID)  
• name (string)  
• description (string)  
• tags (string[])  
• programId (string)  
• entityType (string)      // e.g. “grantApplication”, “award”, “organization”  
• entityIds (string[])     // list of selected entity IDs  
• createdAt (ISO datetime)  
• createdBy (string, userId)  
• updatedAt (ISO datetime)  
• updatedBy (string, userId)  
• status (string)          // e.g. “active”, “deleted”  

2. Bundle  
• id (string, UUID)  
• name (string)  
• description (string)  
• programId (string)  
• tags (string[])  
• createdAt (ISO datetime)  
• createdBy (string)  
• updatedAt (ISO datetime)  
• updatedBy (string)  
• submissionPhase:  
  – forms: Array<{  
      formId (string),  
      order (number)  
    }>  
• reviewPhase:  
  – enabled (boolean)  
  – forms: Array<{  
      formId (string),  
      order (number)  
    }>  
• status (string)          // e.g. “draft”, “published”  

3. Deliverable  
• id (string, UUID)  
• name (string)  
• cohortId (string)  
• bundleId (string)  
• schedule: {  
    type (string)               // “one-time” or “recurring”  
    date? (ISO date)            // if one-time  
    cronExpression? (string)    // if recurring  
  }  
• notifications: {  
    emailTemplateId (string),  
    reminderDays (number[])     // e.g. [7,1] days before  
  }  
• createdAt (ISO datetime)  
• createdBy (string)  
• updatedAt (ISO datetime)  
• updatedBy (string)  
• nextRunAt (ISO datetime)     // computed  
• status (string)              // e.g. “scheduled”, “sent”, “cancelled”  

4. Form‐Library Item (applies to both Submission and Review)  
• id (string, UUID)  
• name (string)  
• description (string)  
• type (string)               // “submission” or “review”  
• endpoint (string)           // URL or route  
• auth: {  
    scheme (string),           // e.g. “OAuth2”, “API-Key”  
    config (object)            // credentials, scopes…  
  }  
• schema (object)             // JSON-schema or similar  
• exitEvents (string[])       // named events/forms can emit  
• views (string[])            // UI views available  
• options (object)            // any customizable flags  
• apiEndpoints: Array<{  
    name (string),  
    method (string),  
    path (string)  
  }>  
• createdAt (ISO datetime)  
• createdBy (string)  
• updatedAt (ISO datetime)  
• updatedBy (string)  
• version (string)            // semantic version or revision  

```



# Bundles
- [x] ask: enhance the user workflow for
  - completed: 2025-08-31 12:35
  - started: 2025-08-31 12:33
  - completed: 2025-08-31 01:55
  - started: 2025-08-31 01:53
  - completed: 2025-08-31 01:46
  - started: 2025-08-31 01:45
  - completed: 2025-08-31 01:43
  - started: 2025-08-31 01:42
  - include: pattern=*bundles-v19.html recursive`
  - focus: file=C:\projects\concepts\work\hrsa-bphc\bundles-v20.html
```code
A1. add the create new/register flow "Wizard overlay common behavior"  feature in 
     – Submission Library  
     – Review Library  
     – Cohorts  
     – Submission Bundles  
     – Review Bundles  
     – Deliverables     
A2. add realistic data for hrsa bphc post award to
     – Submission Library  
     – Review Library  
     – Cohorts  
     – Submission Bundles  
     – Review Bundles  
     – Deliverables  

existing features.
1. Menu Navigation  
   • Accessible from global nav → “Configuration Hub”  
   • Side-Nav (always visible):  
     – Submission Library  
     – Review Library  
     – Cohorts  
     – Submission Bundles  
     – Review Bundles  
     – Deliverables  

2. High-Level User Flow  
   1. User lands on Configuration Hub (requires authentication)  
   2. Page loads Header (title, user menu), Side-Nav, Main area defaults to Submission Library  
   3. User clicks a Side-Nav link → section view loads  
   4. In each section:  
      a. [New/Register] button  
      b. Search box (live-filter)  
      c. Select-all checkbox + per-row checkboxes  
      d. Table of items with Actions (Update, Delete)  
   5. User actions in section:  
      • Search → filters rows immediately  
      • Select-all → toggles every row checkbox  
      • Click Delete (row) → confirms? → removes item → refresh table  
      • Click Update (row) → opens wizard in edit mode  
      • Click New/Register → opens wizard in create mode  
   6. Wizard overlay common behavior:  
      • Multi-step (2–4 steps, see below)  
      • Prev / Next / Finish / Cancel buttons (Prev hidden on step 1; Finish only on last step)  
      • Cancel → closes without saving  
      • Finish → validate required fields → save create/update → close → refresh table  
   7. After wizard closes user returns to section view; may switch sections or log out  

3. Features & Behaviors  
   • Responsive layout (desktop/tablet)  
   • Live search/filtering  
   • Bulk select + bulk delete (if at least one checkbox)  
   • Inline row actions (Update, Delete)  
   • Wizard flows with field-level validation, progress indicators  
   • Conditional steps (e.g. “Enable Review” toggle skips review-form selection)  
   • Reordering lists in wizards (Up/Down controls)  
   • Cron or one-time schedule picker for deliverables  
   • Email template lookup + reminder-days input  

4. Data Objects & Table Columns  

  4.1 Submission Form  
    • id (UUID)  
    • name (string)  
    • endpointUrl (string)  
    • authType (e.g. OAuth2, API Key)  
    • schema (JSON schema name/reference)  
    • lastValidationStatus (Passed/Failed/Pending)  
    • createdAt, updatedAt (timestamps)  
    Table columns:  
      – checkbox  
      – Name  
      – Endpoint URL  
      – Auth Type  
      – Schema  
      – Validation Status  
      – Actions  

  4.2 Review Form  
    • same fields as Submission Form  
    Table columns same as Submission Library  

  4.3 Cohort  
    • id  
    • name  
    • description  
    • tags (list of strings)  
    • programId (ref)  
    • entityType (e.g. User, Device)  
    • entityCount (computed)  
    • createdAt, updatedAt  
    Table columns:  
      – checkbox  
      – Name  
      – Description  
      – Tags  
      – Program  
      – Entity Type  
      – # Entities  
      – Actions  

  4.4 Bundle (v18 schema)  
    • id  
    • name  
    • description  
    • programId  
    • tags (list)  
    • submissionPhaseForms (ordered list of formIds)  
    • reviewEnabled (bool)  
    • reviewPhaseForms (ordered list)  
    • createdAt, updatedAt  
    Table columns (for both Submission Bundles & Review Bundles views):  
      – checkbox  
      – Name  
      – Description  
      – Program  
      – Tags  
      – # Submission Forms  
      – Review Enabled (Yes/No)  
      – # Review Forms (if enabled)  
      – Actions  

  4.5 Deliverable  
    • id  
    • name  
    • cohortId  
    • bundleId  
    • scheduleType (One-time / Recurring)  
    • scheduledDate (date if one-time)  
    • cronExpression (if recurring)  
    • notificationTemplateId  
    • reminderDays (array of ints)  
    • nextRun (computed)  
    • lastRunStatus (Success/Failure/Pending)  
    • createdAt, updatedAt  
    Table columns:  
      – checkbox  
      – Name  
      – Cohort  
      – Bundle  
      – Schedule (display human-readable)  
      – Next Run  
      – Status  
      – Actions  

5. Wizard Step Details  

  5.1 Form Wizard (Submission & Review) – 2 steps  
    Step 1: Metadata  
      • Name (required)  
      • Endpoint URL (required, URL format)  
      • Auth Type (dropdown) + credentials fields  
      • Schema (dropdown)  
    Step 2: Validation  
      • Run Validation Tests button → shows status/messages  
      • Read-only view of entered metadata  
      • Finish  

  5.2 Cohort Wizard – 4 steps  
    1. Basic Info (Name, Description, Tags)  
    2. Program & Entity Type (dropdowns)  
    3. Pick Entities (multi-select list filtered by step 2)  
    4. Review & Finish  

  5.3 Bundle Wizard – 4 steps  
    1. Basics (Name, Description, Program, Tags)  
    2. Submission Phase  
       – Search field → filter available submission forms  
       – Checkboxes to add → appear in “Selected” list  
       – Up/Down to reorder  
    3. Review Phase  
       – Enable Review? (toggle)  
       – If on: same pattern with review forms  
    4. Summary & Finish  

  5.4 Deliverable Wizard – 4 steps  
    1. Basic Info (Name, Cohort picker, Bundle picker)  
    2. Schedule (One-time date picker OR cron expression input + helper)  
    3. Notifications (Email template picker, Reminder days multi-select)  
    4. Review summary & Finish  

6. Validation Rules & Error Handling  
   • All required fields enforced before Next/Finish  
   • Inline field errors + summary at top on validation fail  
   • Wizard cannot proceed if any step invalid  
   • Delete actions prompt confirmation dialog  

7. State Management & Persistence  
   • Table views fetch paged data via REST API  
   • Searches apply query param to API calls  
   • Wizards maintain local state until Finish  
   • Create/update calls return updated object → table refresh  
```