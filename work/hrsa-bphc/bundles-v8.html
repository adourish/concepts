# file: index.html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Configuration Hub</title>
  <style>
    :root {
      --brand-blue: #1589ee;
      --dark-blue: #16325c;
      --light-gray: #f4f6f9;
      --border-gray: #d8dde6;
      --text-dark: #1a1a1a;
      --text-light: #63737a;
      --font: Arial, sans-serif;
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html, body { height: 100%; font-family: var(--font); background: var(--light-gray); color: var(--text-dark); }
    .app-container { display: flex; flex-direction: column; height: 100%; }
    header { background: var(--dark-blue); color: white; padding: 0 1em; display: flex; align-items: center; height: 50px; }
    header h1 { font-size: 1.2em; }
    .body { flex: 1; display: flex; overflow: hidden; }
    nav { width: 200px; background: var(--brand-blue); display: flex; flex-direction: column; }
    nav a { color: white; text-decoration: none; padding: 1em; }
    nav a.active, nav a:hover { background: var(--dark-blue); }
    .main { flex: 1; overflow-y: auto; padding: 1em; }
    .section { display: none; }
    .section.active { display: block; }
    .card { background: white; border: 1px solid var(--border-gray); border-radius: 4px; padding: 1em; margin-bottom: 1em; }
    h2 { margin-bottom: 0.5em; color: var(--dark-blue); }
    h3 { margin-bottom: 0.5em; color: var(--brand-blue); }
    label { display: block; margin: 0.5em 0 0.25em; font-weight: bold; }
    input[type="text"], textarea, select { width: 100%; padding: 0.5em; border: 1px solid var(--border-gray); border-radius: 3px; }
    textarea { resize: vertical; height: 80px; }
    button { margin-top: 0.5em; background: var(--brand-blue); color: white; border: none; padding: 0.5em 1em; border-radius: 3px; cursor: pointer; }
    button.delete { background: #d9534f; margin-left: 0.5em; }
    table { width: 100%; border-collapse: collapse; margin-top: 0.5em; }
    th, td { border: 1px solid var(--border-gray); padding: 0.5em; text-align: left; }
    th { background: var(--light-gray); }
    .search-input { width: calc(100% - 2px); margin-bottom: 0.5em; }
    .remove-btn { background: transparent; color: #d9534f; border: none; cursor: pointer; }
  </style>
</head>
<body>
  <div class="app-container">
    <header><h1>Configuration Hub</h1></header>
    <div class="body">
      <nav>
        <a href="#" data-target="cohorts" class="active">Cohorts</a>
        <a href="#" data-target="bundles">Bundles</a>
        <a href="#" data-target="submission-library">Submission Library</a>
        <a href="#" data-target="review-library">Review Library</a>
      </nav>
      <div class="main">
        <!-- Cohorts -->
        <section id="cohorts" class="section active">
          <h2>Cohorts</h2>
          <div class="card">
            <label for="cohort-name">Cohort Name</label>
            <input type="text" id="cohort-name" placeholder="Enter cohort name">
            <label for="cohort-desc">Description</label>
            <textarea id="cohort-desc" placeholder="Enter a description"></textarea>
            <label for="cohort-tags">Tags (comma-separated)</label>
            <input type="text" id="cohort-tags" placeholder="e.g., rural, pilot">
            <label for="cohort-program">Program</label>
            <select id="cohort-program">
              <option value="">-- select program --</option>
              <option value="330">FQHC 330</option>
              <option value="LGP">Loan Guarantee Program</option>
              <option value="LAL">Look-Alike Program</option>
            </select>
            <label for="cohort-type">Entity Type</label>
            <select id="cohort-type">
              <option value="">-- select entity type --</option>
              <option value="applications">Applications</option>
              <option value="awards">Awards</option>
              <option value="organizations">Organizations</option>
            </select>
            <label for="cohort-entities">Entities</label>
            <select id="cohort-entities" multiple size="5"></select>
            <button id="add-cohort">Create Cohort</button>
          </div>
          <div class="card">
            <h3>Current Cohorts</h3>
            <table>
              <thead>
                <tr><th>Name</th><th>Program</th><th>Type</th><th>Entities</th><th>Tags</th><th>Actions</th></tr>
              </thead>
              <tbody id="cohort-list"></tbody>
            </table>
          </div>
        </section>
        <!-- Bundles -->
        <section id="bundles" class="section">
          <h2>Bundles</h2>
          <div class="card">
            <label for="bundle-name">Bundle Name</label>
            <input type="text" id="bundle-name" placeholder="Enter bundle name">
            <label for="bundle-search">Filter Forms</label>
            <input type="text" id="bundle-search" class="search-input" placeholder="Search forms...">
            <label for="bundle-forms">Select Forms</label>
            <select id="bundle-forms" multiple size="6"></select>
            <button id="create-bundle">Create Bundle</button>
          </div>
          <div class="card">
            <label for="bundle-grid-search">Search Bundles</label>
            <input type="text" id="bundle-grid-search" class="search-input" placeholder="Search bundles...">
            <table>
              <thead>
                <tr><th>Bundle Name</th><th>Forms</th><th>Actions</th></tr>
              </thead>
              <tbody id="bundle-grid"></tbody>
            </table>
          </div>
        </section>
        <!-- Submission Library -->
        <section id="submission-library" class="section">
          <h2>Submission Library</h2>
          <div class="card">
            <label for="submission-grid-search">Search Submissions</label>
            <input type="text" id="submission-grid-search" class="search-input" placeholder="Search submissions...">
            <table>
              <thead>
                <tr><th>Form Name</th><th>Description</th></tr>
              </thead>
              <tbody id="submission-grid"></tbody>
            </table>
          </div>
        </section>
        <!-- Review Library -->
        <section id="review-library" class="section">
          <h2>Review Library</h2>
          <div class="card">
            <label for="review-grid-search">Search Reviews</label>
            <input type="text" id="review-grid-search" class="search-input" placeholder="Search reviews...">
            <table>
              <thead>
                <tr><th>Review Name</th><th>Description</th></tr>
              </thead>
              <tbody id="review-grid"></tbody>
            </table>
          </div>
        </section>
      </div>
    </div>
  </div>

  <script>
    // Navigation
    document.querySelectorAll('nav a').forEach(link => {
      link.onclick = e => {
        e.preventDefault();
        document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
        link.classList.add('active');
        document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        document.getElementById(link.dataset.target).classList.add('active');
      };
    });

    // Sample Data Stores
    const dataStore = {
      330: { applications: ['App A1','App A2'], awards: ['Award A1'], organizations: ['Org A','Org B'] },
      LGP: { applications: ['LGP App1'], awards: ['LGP Award1'], organizations: ['LGP Org1'] },
      LAL: { applications: ['LAL App1'], awards: ['LAL Award1'], organizations: ['LAL Org1'] }
    };
    const submissionLibrary = [
      { name: 'Form 1A', desc: 'General Info Worksheet' },
      { name: 'Form 5A', desc: 'Site Details Form' },
      { name: 'Form 5B', desc: 'Services Details Form' },
      { name: 'Assurances', desc: 'Legal Assurances Document' }
    ];
    const reviewLibrary = [
      { name: 'Scope PO Review', desc: 'Project Officer scope validation' },
      { name: 'Scope PQC Review', desc: 'Quality control review for scope' },
      { name: 'TAR Checklist', desc: 'Technical/Admin Review checklist' },
      { name: 'GAR Recommendation', desc: 'Grant Award Review Recommendation' }
    ];

    // Cohorts Logic
    let cohorts = [];
    const progSel = document.getElementById('cohort-program');
    const typeSel = document.getElementById('cohort-type');
    const entSel = document.getElementById('cohort-entities');
    const cohortList = document.getElementById('cohort-list');
    function populateEntities() {
      entSel.innerHTML = '';
      const p = progSel.value, t = typeSel.value;
      if (dataStore[p] && dataStore[p][t]) {
        dataStore[p][t].forEach(item => {
          const o = document.createElement('option');
          o.value = item; o.textContent = item;
          entSel.appendChild(o);
        });
      }
    }
    progSel.onchange = typeSel.onchange = populateEntities;
    document.getElementById('add-cohort').onclick = () => {
      const name = document.getElementById('cohort-name').value.trim();
      const desc = document.getElementById('cohort-desc').value.trim();
      const tags = document.getElementById('cohort-tags').value.trim();
      const program = progSel.value;
      const type = typeSel.value;
      const entities = Array.from(entSel.selectedOptions).map(o => o.value);
      if (name && program && type && entities.length) {
        cohorts.push({ name, desc, tags, program, type, entities });
        renderCohorts();
        document.getElementById('cohort-name').value = '';
        document.getElementById('cohort-desc').value = '';
        document.getElementById('cohort-tags').value = '';
        progSel.value = ''; typeSel.value = ''; entSel.innerHTML = '';
      }
    };
    function renderCohorts() {
      cohortList.innerHTML = '';
      cohorts.forEach((c, i) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${c.name}</td>
          <td>${c.program}</td>
          <td>${c.type}</td>
          <td>${c.entities.join(', ')}</td>
          <td>${c.tags}</td>
          <td><button class="remove-btn" data-i="${i}">Delete</button></td>
        `;
        cohortList.appendChild(tr);
      });
      cohortList.querySelectorAll('.remove-btn').forEach(btn => {
        btn.onclick = () => {
          cohorts.splice(btn.dataset.i,1);
          renderCohorts();
        };
      });
    }

    // Bundles Logic
    const formLibrary = ['Form 1A','Form 5A','Form 5B','Assurances','Attachment','Consolidated Budget'];
    let bundles = [];
    const bfSel = document.getElementById('bundle-forms');
    const searchForms = document.getElementById('bundle-search');
    const createBundleBtn = document.getElementById('create-bundle');
    const bundleGrid = document.getElementById('bundle-grid');
    const bundleGridSearch = document.getElementById('bundle-grid-search');
    function filterFormOptions() {
      const q = searchForms.value.toLowerCase();
      bfSel.innerHTML = '';
      formLibrary.filter(n => n.toLowerCase().includes(q))
                 .forEach(n => bfSel.appendChild(new Option(n,n)));
    }
    searchForms.oninput = filterFormOptions; filterFormOptions();
    createBundleBtn.onclick = () => {
      const name = document.getElementById('bundle-name').value.trim();
      const forms = Array.from(bfSel.selectedOptions).map(o => o.value);
      if (name && forms.length) {
        bundles.push({ name, forms });
        renderBundles();
        document.getElementById('bundle-name').value = '';
        bfSel.selectedIndex = -1;
      }
    };
    bundleGridSearch.oninput = renderBundles;
    function renderBundles() {
      bundleGrid.innerHTML = '';
      const q = bundleGridSearch.value.toLowerCase();
      bundles.filter(b => b.name.toLowerCase().includes(q)).forEach((b,i) => {
        const tr = document.createElement('tr');
        tr.innerHTML = `<td>${b.name}</td><td>${b.forms.join(', ')}</td>
                        <td><button class="remove-btn" data-i="${i}">Delete</button></td>`;
        bundleGrid.appendChild(tr);
      });
      bundleGrid.querySelectorAll('.remove-btn').forEach(btn => {
        btn.onclick = () => {
          bundles.splice(btn.dataset.i,1);
          renderBundles();
        };
      });
    }

    // Submission Library Logic
    const subGrid = document.getElementById('submission-grid');
    const subSearch = document.getElementById('submission-grid-search');
    subSearch.oninput = renderSubmission;
    function renderSubmission() {
      subGrid.innerHTML = '';
      const q = subSearch.value.toLowerCase();
      submissionLibrary.filter(s => s.name.toLowerCase().includes(q) || s.desc.toLowerCase().includes(q))
        .forEach(s => {
          const tr = document.createElement('tr');
          tr.innerHTML = `<td>${s.name}</td><td>${s.desc}</td>`;
          subGrid.appendChild(tr);
        });
    }
    renderSubmission();

    // Review Library Logic
    const revGrid = document.getElementById('review-grid');
    const revSearch = document.getElementById('review-grid-search');
    revSearch.oninput = renderReview;
    function renderReview() {
      revGrid.innerHTML = '';
      const q = revSearch.value.toLowerCase();
      reviewLibrary.filter(r => r.name.toLowerCase().includes(q) || r.desc.toLowerCase().includes(q))
        .forEach(r => {
          const tr = document.createElement('tr');
          tr.innerHTML = `<td>${r.name}</td><td>${r.desc}</td>`;
          revGrid.appendChild(tr);
        });
    }
    renderReview();
  </script>
</body>
</html>